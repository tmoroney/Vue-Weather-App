### Thomas Moroney
Firstly, I created an Express.js server to consume the services of the Open Weather Map APIs. I added 2 endpoints to this server; one to retrieve and parse the weather data for a requested city (`/weather/:city` where city is a parameter), and one to serve the webpage to the user (`/`). I then configured the server to listen on port 3000 for any requests. I am only using 3 libraries in my server.js file: `express`, `axios`, and `url`. I chose to use the `axios` library for making API requests as it allows for better error handling, which is needed for APIs that are out of our control. I am also using a library called `url` to get the current directory which is necessary for sending the index.html page in the same directory. I added this line `"type": "module"` to my `package.json` file to enable me to use ESM imports rather than the old method to import packages that uses the require() syntax.

When I make a request like `http://localhost:3000/weather/London` the weather endpoint will be called with the task of getting the weather for the city of London, as putting a colon before a word like `:city` makes that word a parameter. Firstly, my server will make a request to Open Weather Map's Geolocation API with the specified city name and my API key. We do this to get the Longitude and Latitude of the location as we need these values to make a request to the 5 day weather forecast API. The API key would usually be hidden away in environment variables for security reasons, but for ease of use it remains stored as a constant variable in the server.js file.

The Geolocation API will return a number of locations that match our city name. My server will simply take the first result in the list and take its longitude and latitude. If the list of locations returned by the API is empty (no locations found matching the requested city name), then the server will respond with "No results found" to the client. 

Now that the server has the Longitude and Latitude of the requested location, it can make a request to the 5 day weather forecast API with this Longitude and Latitude setting the units to the metric system so that the temperature values returned are in degrees Celsius instead of Kelvin: `http://api.openweathermap.org/data/2.5/forecast?lat=${lat}&lon=${lon}&units=metric&appid=${apiKey}`.

The 5-day weather forecast API will return the forecast for every 3 hour period over the next 5 days. I extracted only the data necessary from the JSON data returned. I group each forecast based on the day it was taken on, so it is easier for me to display the weather forecast per day on the frontend. To do this, I looped through all of the forecasts and added each one to the object under the label of the day they correspond to. I converted each date value in the JSON object into a Javascript date object so that I could get the day name using date.getDay() function, which would return a day name like "Thursday", which I can then use to add this forecast to the list of forecasts corresponding to that day `weatherData.days['Thursday']`.

I calculated the average temperature, total rainfall, and average humidity for each day. Based on these values I calculated an "Outdoor Activity Score" out of 10 for each day as my innovative feature. This feature allows a user to quickly see which days of their holiday would be ideal for outdoor activities, and which days are not suitable for being outdoors. To calculate this score, each day starts with 10 points, and then points are deducted based on a number of factors such as the temperature being below 5 degrees or above 35, or the rainfall being greater than 35 millimeters in the day, and so on. I have a function that calculates this score and returns a rating out of 10. 

If there is rain at any point during the week the server sets the "umbrella warning" to true in the JSON weather data response, and a message is displayed on the frontend notifying the user to bring an umbrella on their travels. Additionally, I use the Air Quality Forecast API to retrieve the air quality for the specified location. I loop through every result returned by this API and calculate an average PM2_5 value for the week. If the PM2_5 value goes above 15 for an extended period of time during the week (I chose 20 readings as I found it to be the best balance), then the air pollution warning is set to true in the weather data response and a message is displayed to the user recommending that they wear a mask for their health (I changed the threshold from 10 to 15 as the European Environmental Agency considers 10-15 to be moderate and above this to be poor, and too many cities were getting pollution warnings).

Lastly, I wanted my application to display a photo of the specified location when a user searches for the weather, so I decided to use the Pexels search API for this, which is a free stock image website that provides a free API. The last thing the weather endpoint does is make a request to this API with the specified city name as the parameter. I then extract the ImageURL of the Landscape image from the JSON data returned from the API. This will be displayed as the background on the webpage. 

For the front end, I created an index.html file in the same directory as the server, and then set the "`/`" endpoint of the Express.js server to serve this webpage to the client when it receives a request. So if I go to localhost:3000 in my browser, I will receive the index.html web page.

I imported Vue.js in this HTML file via a script tag, using the UNPKG CDN. I also imported the Semantic UI component library which I am using to style the elements of my application. When you open the app, the first thing will see is a search bar where you can enter the name of the city for which you wish to see the weather forecast. When you hit enter or click the 'Get Weather' button, a function is called which makes a request to http://localhost:3000/weather/city-name using an HTTP GET request, where city-name is replaced with the name entered in the text box. The server will then return JSON data which needs to be parsed on the frontend using JSON.parse() function as base http does not do this automatically. Since XMLHttpRequest() is built into Javascript, I don't need to import anything in order to make a request. 

Once the data is returned from my Express.js server, the weather data will populate the UI and the photo link will be used to set the background image. At the top of the page there are some summary statistics/averages for the next week, including the weather type which can be either 'cold', 'mild', or 'hot'. Additionally, above the statistics I have the country flag of the requested city. By setting the country code retrieved from the Weather API to all lowercase I am able to get the country's flag from the Semantic UI flag icons. Using Vue.js v-if I am able to show or hide the umbrella and air quality alert messages based on if the umbrella warning or air pollution warning are true.

For each day, the average temperature and total rainfall is displayed, along with the forecast for every 3 hour period. Each day also has a bar indicating the Outdoor Activity rating. This bar will be coloured either green, yellow or red based on this score so that the user can see at a glance which days are best for outdoor activities.

